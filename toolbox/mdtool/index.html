<!doctype html><html lang=zh-CN><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Markdown æ’åºå·¥å…·</title><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:ui-sans-serif,-apple-system,BlinkMacSystemFont,segoe ui,Helvetica,apple color emoji,Arial,sans-serif,segoe ui emoji,segoe ui symbol;background-color:#fff;color:#37352f;line-height:1.5;font-size:14px;margin:0;padding:0;height:100vh;overflow:hidden}.app-container{max-width:1200px;margin:0 auto;height:100vh;display:flex;flex-direction:column;overflow:hidden}.header{flex-shrink:0;padding:24px 0 16px;border-bottom:1px solid rgba(55,53,47,9%)}.header-content{padding:0 24px;display:flex;align-items:center;gap:16px}.header-icon{font-size:48px;flex-shrink:0}.header-text{flex:1;min-width:0}.header-title{font-size:28px;font-weight:700;color:#37352f;margin-bottom:4px;line-height:1.2}.header-subtitle{font-size:14px;color:rgba(55,53,47,.65);font-weight:400}.main-content{display:flex;gap:24px;flex:1;padding:16px 24px;min-height:0;overflow:hidden}.content-section{flex:1;display:flex;flex-direction:column;min-height:0;overflow:hidden}.section-header{display:flex;align-items:center;margin-bottom:12px;padding:4px 0;flex-shrink:0}.section-icon{font-size:16px;margin-right:8px;opacity:.7}.section-title{font-size:16px;font-weight:600;color:#37352f}.upload-area{border:2px dashed rgba(55,53,47,.16);border-radius:8px;padding:24px;text-align:center;background:rgba(55,53,47,2%);margin-bottom:12px;transition:all .15s ease;flex-shrink:0}.upload-area:hover{background:rgba(55,53,47,4%);border-color:rgba(55,53,47,.24)}.upload-area.dragover{background:rgba(46,170,220,8%);border-color:rgba(46,170,220,.4)}.upload-icon{font-size:24px;margin-bottom:8px;opacity:.4}.upload-text{color:rgba(55,53,47,.65);font-size:14px;margin-bottom:12px}.upload-button{background:#37352f;color:#fff;border:none;padding:8px 16px;border-radius:6px;font-size:14px;cursor:pointer;transition:background .15s ease;font-family:inherit}.upload-button:hover{background:#2f2e2a}.file-input{display:none}.text-input{width:100%;flex:1;border:1px solid rgba(55,53,47,.16);border-radius:6px;padding:16px;font-family:ui-monospace,SFMono-Regular,sf mono,Consolas,liberation mono,Menlo,monospace;font-size:13px;line-height:1.5;resize:none;background:#fff;color:#37352f;transition:border-color .15s ease;min-height:0}.text-input:focus{outline:none;border-color:rgba(46,170,220,.6);box-shadow:0 0 0 1px rgba(46,170,220,.6)}.text-input::placeholder{color:rgba(55,53,47,.4)}.sortable-container{border:1px solid rgba(55,53,47,.16);border-radius:6px;background:#fff;flex:1;overflow:hidden;min-height:0;display:flex;flex-direction:column}.sortable-list{flex:1;overflow-y:auto;overflow-x:hidden}.section-item{border-bottom:1px solid rgba(55,53,47,9%);cursor:grab;transition:all .15s ease;position:relative;background:#fff}.section-item:last-child{border-bottom:none}.section-item:hover{background:rgba(55,53,47,3%)}.section-item:hover .drag-handle{opacity:1;transform:translateX(0)}.section-item.dragging{opacity:.6;cursor:grabbing;transform:rotate(2deg);box-shadow:0 8px 25px rgba(0,0,0,.15);z-index:1000}.section-item.drag-over{border-top:2px solid #37352f}.section-item-header{padding:12px 16px;display:flex;align-items:center;background:rgba(55,53,47,4%);border-bottom:1px solid rgba(55,53,47,9%);position:relative}.drag-handle{opacity:0;margin-right:12px;color:rgba(55,53,47,.4);font-size:16px;transition:all .2s ease;cursor:grab;transform:translateX(-4px);display:flex;align-items:center;justify-content:center;width:20px;height:20px;border-radius:4px;background:0 0}.drag-handle:hover{background:rgba(55,53,47,.1);color:rgba(55,53,47,.7)}.drag-handle:active{cursor:grabbing;background:rgba(55,53,47,.15)}.section-item-title{font-size:14px;font-weight:600;color:#37352f;flex:1;user-select:none}.section-item-content{padding:12px 16px 12px 48px;font-family:ui-monospace,SFMono-Regular,sf mono,Consolas,liberation mono,Menlo,monospace;font-size:12px;color:rgba(55,53,47,.65);line-height:1.4;max-height:120px;overflow:hidden;white-space:pre-wrap;position:relative}.section-item-content::after{content:'';position:absolute;bottom:0;left:48px;right:16px;height:16px;background:linear-gradient(transparent,rgba(255,255,255,.9));pointer-events:none}.controls{display:flex;align-items:center;gap:12px;padding:16px 24px;border-top:1px solid rgba(55,53,47,9%);background:rgba(55,53,47,2%);flex-wrap:wrap;flex-shrink:0}.control-button{background:#37352f;color:#fff;border:none;padding:8px 16px;border-radius:6px;font-size:14px;cursor:pointer;transition:all .15s ease;font-family:inherit;display:flex;align-items:center;gap:6px}.control-button:hover{background:#2f2e2a;transform:translateY(-1px)}.control-button.secondary{background:#fff;color:#37352f;border:1px solid rgba(55,53,47,.16)}.control-button.secondary:hover{background:rgba(55,53,47,4%)}.checkbox-option{display:flex;align-items:center;gap:8px;padding:6px 12px;border-radius:6px;background:#fff;border:1px solid rgba(55,53,47,.16);cursor:pointer;transition:all .15s ease;font-size:14px}.checkbox-option:hover{background:rgba(55,53,47,4%)}.checkbox-input{width:16px;height:16px;cursor:pointer}.empty-state{padding:48px 24px;text-align:center;color:rgba(55,53,47,.4);font-style:italic}.notification{position:fixed;top:24px;right:24px;padding:12px 16px;border-radius:8px;font-size:14px;font-weight:500;z-index:1000;max-width:300px;animation:slideIn .3s cubic-bezier(.175,.885,.32,1.275);box-shadow:0 8px 32px rgba(0,0,0,.12);border:1px solid;backdrop-filter:blur(8px)}.notification.success{background:rgba(22,163,74,.1);border-color:#16a34a;color:#15803d}.notification.error{background:rgba(239,68,68,.1);border-color:#ef4444;color:#dc2626}.notification.warning{background:rgba(245,158,11,.1);border-color:#f59e0b;color:#d97706}.notification.info{background:rgba(59,130,246,.1);border-color:#3b82f6;color:#2563eb}@keyframes slideIn{from{transform:translateX(100%)scale(.9);opacity:0}to{transform:translateX(0)scale(1);opacity:1}}@keyframes slideOut{from{transform:translateX(0)scale(1);opacity:1}to{transform:translateX(100%)scale(.9);opacity:0}}.drag-indicator{position:absolute;left:0;right:0;height:2px;background:#37352f;opacity:0;transition:opacity .2s ease;pointer-events:none}.drag-indicator.show{opacity:1}@media(max-width:768px){.main-content{flex-direction:column;padding:12px 16px}.header-content{padding:0 16px;flex-direction:column;text-align:center;gap:12px}.header-title{font-size:24px}.header-icon{font-size:40px}.controls{padding:12px 16px;flex-direction:column;align-items:stretch}.control-button{justify-content:center}.upload-area{padding:20px}.section-item-content{padding-left:16px}.section-item-content::after{left:16px}}@media(max-height:600px){.header{padding:12px 0 8px}.header-icon{font-size:32px}.header-title{font-size:20px}.header-subtitle{font-size:12px}.upload-area{padding:16px}.controls{padding:12px 24px}}@media(max-width:480px){html,body{font-size:15px}.app-container{max-width:100vw;height:auto;min-height:100vh;padding:0}.main-content{flex-direction:column;gap:8px;padding:8px 4px}.content-section{padding:0;min-width:0}.sortable-container{min-width:0;border-radius:0;padding:0}.text-input{font-size:16px;padding:12px 8px;min-height:120px}.upload-area{padding:12px 4px;font-size:15px}.header-content{padding:0 4px;gap:8px}.header-title{font-size:20px}.header-icon{font-size:32px}.controls{padding:8px 4px;flex-direction:column;gap:8px}.control-button,.control-button.secondary{font-size:16px;padding:10px 0;width:100%;min-width:0}.section-item-header{padding:10px 8px}.section-item-content{padding:10px 8px;font-size:13px}}.sortable-list::-webkit-scrollbar{width:6px}.sortable-list::-webkit-scrollbar-track{background:0 0}.sortable-list::-webkit-scrollbar-thumb{background:rgba(55,53,47,.2);border-radius:3px}.sortable-list::-webkit-scrollbar-thumb:hover{background:rgba(55,53,47,.3)}.text-input::-webkit-scrollbar{width:6px}.text-input::-webkit-scrollbar-track{background:0 0}.text-input::-webkit-scrollbar-thumb{background:rgba(55,53,47,.2);border-radius:3px}.text-input::-webkit-scrollbar-thumb:hover{background:rgba(55,53,47,.3)}</style></head><body><div class=app-container><div class=header><div class=header-content><span class=header-icon>ğŸ“</span><div class=header-text><h1 class=header-title>Markdown æ’åºå·¥å…·</h1><p class=header-subtitle>æ‹–æ‹½è°ƒæ•´äºŒçº§æ ‡é¢˜é¡ºåºï¼Œå†…å®¹ä¼šè‡ªåŠ¨è·Ÿéšç§»åŠ¨</p></div></div></div><div class=main-content><div class=content-section><div class=section-header><span class=section-icon>ğŸ“„</span>
<span class=section-title>è¾“å…¥ Markdown</span></div><div id=dropZone class=upload-area><div class=upload-icon>ğŸ“</div><div class=upload-text>æ‹–æ‹½ .md æ–‡ä»¶åˆ°æ­¤å¤„ï¼Œæˆ–ç‚¹å‡»é€‰æ‹©æ–‡ä»¶</div><button class=upload-button onclick='document.getElementById("fileInput").click()'>
é€‰æ‹©æ–‡ä»¶
</button>
<input type=file id=fileInput class=file-input accept=.md,.markdown,.txt onchange=handleFileSelect(event)></div><textarea id=markdownInput class=text-input placeholder="åœ¨æ­¤ç²˜è´´æ‚¨çš„ Markdown æ–‡æœ¬...

ç¤ºä¾‹ï¼š
## ç¬¬ä¸€ä¸ªæ ‡é¢˜
è¿™æ˜¯ç¬¬ä¸€ä¸ªæ ‡é¢˜ä¸‹çš„å†…å®¹ã€‚

## ç¬¬äºŒä¸ªæ ‡é¢˜  
è¿™æ˜¯ç¬¬äºŒä¸ªæ ‡é¢˜ä¸‹çš„å†…å®¹ã€‚
å¯ä»¥æœ‰å¤šè¡Œã€‚

## ç¬¬ä¸‰ä¸ªæ ‡é¢˜
è¿™æ˜¯ç¬¬ä¸‰ä¸ªæ ‡é¢˜ä¸‹çš„å†…å®¹ã€‚"></textarea></div><div class=content-section><div class=section-header><span class=section-icon>ğŸ”„</span>
<span class=section-title>æ‹–æ‹½è°ƒæ•´é¡ºåº</span></div><div id=sortableContainer class=sortable-container><div class=sortable-list><div class=empty-state>è¯·åœ¨å·¦ä¾§è¾“å…¥ Markdown æ–‡æœ¬ï¼Œç„¶åç‚¹å‡»"è§£ææ–‡æœ¬"å¼€å§‹æ’åº</div></div></div></div></div><div class=controls><button class=control-button onclick=parseMarkdown()>
<span>ğŸ”</span>
è§£ææ–‡æœ¬</button><div class=checkbox-option><input type=checkbox id=tocCheckbox class=checkbox-input>
<label for=tocCheckbox>ç”Ÿæˆç›®å½•</label></div><button class="control-button secondary" onclick=copyResult()>
<span>ğŸ“‹</span>
å¤åˆ¶ç»“æœ
</button>
<button class="control-button secondary" onclick=downloadResult()>
<span>ğŸ’¾</span>
ä¸‹è½½æ–‡ä»¶</button></div></div><script>function setupDropZone(){const e=document.getElementById("dropZone");e.addEventListener("dragover",t=>{t.preventDefault(),e.classList.add("dragover")}),e.addEventListener("dragleave",t=>{t.preventDefault(),e.classList.remove("dragover")}),e.addEventListener("drop",t=>{t.preventDefault(),e.classList.remove("dragover");const n=t.dataTransfer.files;n.length>0&&handleFile(n[0])})}function handleFileSelect(e){const t=e.target.files[0];t&&handleFile(t)}function handleFile(e){const n=[".md",".markdown",".txt"],s=e.name.toLowerCase(),o=n.some(e=>s.endsWith(e));if(!o){showNotification("è¯·é€‰æ‹© .mdã€.markdown æˆ– .txt æ–‡ä»¶","warning");return}if(e.size>5*1024*1024){showNotification("æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡ 5MB","warning");return}const t=new FileReader;t.onload=function(t){try{const n=t.target.result;document.getElementById("markdownInput").value=n,showNotification(`å·²æˆåŠŸåŠ è½½æ–‡ä»¶: ${e.name}`,"success")}catch(e){console.error("å¤„ç†æ–‡ä»¶å†…å®¹æ—¶å‡ºé”™:",e),showNotification("å¤„ç†æ–‡ä»¶å†…å®¹æ—¶å‡ºé”™ï¼Œè¯·é‡è¯•","error")}},t.onerror=function(){showNotification("è¯»å–æ–‡ä»¶æ—¶å‡ºé”™ï¼Œè¯·é‡è¯•","error")},t.readAsText(e,"UTF-8")}function showNotification(e,t="info"){const n=document.createElement("div");n.className=`notification ${t}`,n.textContent=e,document.body.appendChild(n),setTimeout(()=>{n.style.animation="slideOut 0.3s cubic-bezier(0.55, 0.085, 0.68, 0.53)",setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n)},300)},3e3)}let sections=[],draggedElement=null,dragIndicator=null;function parseMarkdown(){const e=document.getElementById("markdownInput").value;if(!e.trim()){showNotification("è¯·å…ˆè¾“å…¥ Markdown æ–‡æœ¬","warning");return}try{const n=e.split(`
`);sections=[];let t=null,s=[];for(let o=0;o<n.length;o++){const e=n[o];e.startsWith("## ")?(t&&sections.push(t),t={title:e,content:[]}):t?t.content.push(e):s.push(e)}t&&sections.push(t),window.beforeH2Content=s,renderSections(),sections.length>0?showNotification(`æˆåŠŸè§£æ ${sections.length} ä¸ªäºŒçº§æ ‡é¢˜`,"success"):showNotification("æ²¡æœ‰æ‰¾åˆ°äºŒçº§æ ‡é¢˜","warning")}catch(e){console.error("è§£æ Markdown æ—¶å‡ºé”™:",e),showNotification("è§£æ Markdown æ—¶å‡ºé”™ï¼Œè¯·æ£€æŸ¥æ ¼å¼","error")}}function renderSections(){const e=document.querySelector(".sortable-list");if(sections.length===0){e.innerHTML='<div class="empty-state">æ²¡æœ‰æ‰¾åˆ°äºŒçº§æ ‡é¢˜</div>';return}e.innerHTML="",sections.forEach((t,n)=>{const s=document.createElement("div");s.className="section-item",s.draggable=!0,s.dataset.index=n;const o=t.content.slice(0,8).join(`
`),i=t.content.length>8?`
...`:"";s.innerHTML=`
                    <div class="section-item-header">
                        <span class="drag-handle">â‹®â‹®</span>
                        <span class="section-item-title">${t.title}</span>
                    </div>
                    <div class="section-item-content">${o}${i}</div>
                `,s.addEventListener("dragstart",handleDragStart),s.addEventListener("dragover",handleDragOver),s.addEventListener("dragenter",handleDragEnter),s.addEventListener("dragleave",handleDragLeave),s.addEventListener("drop",handleDrop),s.addEventListener("dragend",handleDragEnd),e.appendChild(s)})}function handleDragStart(e){draggedElement=this,this.classList.add("dragging"),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",this.outerHTML),dragIndicator=document.createElement("div"),dragIndicator.className="drag-indicator",setTimeout(()=>{this.style.visibility="hidden"},0)}function handleDragOver(e){e.preventDefault(),e.dataTransfer.dropEffect="move"}function handleDragEnter(e){e.preventDefault(),this!==draggedElement&&this.classList.add("drag-over")}function handleDragLeave(e){e.preventDefault(),this.classList.remove("drag-over")}function handleDrop(e){if(e.preventDefault(),this.classList.remove("drag-over"),this!==draggedElement){const e=parseInt(draggedElement.dataset.index),t=parseInt(this.dataset.index),n=sections[e];sections.splice(e,1),sections.splice(t,0,n),renderSections()}}function handleDragEnd(){this.classList.remove("dragging"),this.style.visibility="visible",document.querySelectorAll(".section-item").forEach(e=>{e.classList.remove("drag-over")}),draggedElement=null,dragIndicator&&dragIndicator.parentNode&&dragIndicator.parentNode.removeChild(dragIndicator),dragIndicator=null}function generateResult(){let e="";window.beforeH2Content&&window.beforeH2Content.length>0&&(e+=window.beforeH2Content.join(`
`)+`

`);const t=document.getElementById("tocCheckbox");return t&&t.checked&&sections.length>0&&(e+=`## ç›®å½•

`,sections.forEach((t)=>{const s=t.title.replace(/^## /,""),o=s.toLowerCase().replace(/[^\w\u4e00-\u9fff\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"");e+=`- [${s}](#${o})
`}),e+=`
`),sections.forEach((t,n)=>{e+=t.title+`
`,e+=t.content.join(`
`),n<sections.length-1&&(e+=`

`)}),e}function copyResult(){if(sections.length===0){showNotification("è¯·å…ˆè§£æ Markdown æ–‡æœ¬","warning");return}const e=generateResult();navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(e).then(()=>{showNotification("å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼","success")}).catch(()=>{fallbackCopy(e)}):fallbackCopy(e)}function fallbackCopy(e){try{const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.opacity="0",document.body.appendChild(t),t.focus(),t.select();const n=document.execCommand("copy");document.body.removeChild(t),n?showNotification("å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼","success"):showNotification("å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶","error")}catch{showNotification("å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶","error")}}function downloadResult(){if(sections.length===0){showNotification("è¯·å…ˆè§£æ Markdown æ–‡æœ¬","warning");return}try{const n=generateResult(),s=new Blob([n],{type:"text/markdown;charset=utf-8"}),t=URL.createObjectURL(s),e=document.createElement("a");e.href=t,e.download="reordered-markdown.md",e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e),setTimeout(()=>URL.revokeObjectURL(t),100),showNotification("æ–‡ä»¶ä¸‹è½½æˆåŠŸï¼","success")}catch(e){console.error("ä¸‹è½½å¤±è´¥:",e),showNotification("ä¸‹è½½å¤±è´¥ï¼Œè¯·é‡è¯•","error")}}document.getElementById("markdownInput").value=`# ä¸»æ ‡é¢˜

è¿™æ˜¯ä¸€äº›å‰ç½®å†…å®¹ï¼Œä¸ä¼šè¢«ç§»åŠ¨ã€‚

## ç¬¬ä¸‰ä¸ªæ ‡é¢˜
è¿™æ˜¯ç¬¬ä¸‰ä¸ªæ ‡é¢˜ä¸‹çš„å†…å®¹ã€‚
å¯ä»¥åŒ…å«å¤šè¡Œæ–‡æœ¬ã€‚
- åˆ—è¡¨é¡¹1
- åˆ—è¡¨é¡¹2

## ç¬¬ä¸€ä¸ªæ ‡é¢˜
è¿™æ˜¯ç¬¬ä¸€ä¸ªæ ‡é¢˜ä¸‹çš„å†…å®¹ã€‚

### è¿™æ˜¯ä¸‰çº§æ ‡é¢˜
ä¸‰çº§æ ‡é¢˜åŠå…¶å†…å®¹ä¼šè·ŸéšäºŒçº§æ ‡é¢˜ä¸€èµ·ç§»åŠ¨ã€‚

## ç¬¬äºŒä¸ªæ ‡é¢˜
è¿™æ˜¯ç¬¬äºŒä¸ªæ ‡é¢˜ä¸‹çš„å†…å®¹ã€‚

\`\`\`javascript
// ä»£ç å—ä¹Ÿä¼šè·Ÿéšç§»åŠ¨
console.log('Hello World');
\`\`\`

## ç¬¬å››ä¸ªæ ‡é¢˜
æœ€åä¸€ä¸ªæ ‡é¢˜çš„å†…å®¹ã€‚`,setupDropZone()</script></body></html>